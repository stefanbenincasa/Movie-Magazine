(this.webpackJsonpmovie_magazine_app=this.webpackJsonpmovie_magazine_app||[]).push([[0],{13:function(e,t,a){e.exports=a(27)},22:function(e,t,a){},23:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),l=a.n(c),o=(a(9),a(18),a(20),a(7)),s=a.n(o),i=a(11),u=a(3);a(22);var m=function(e){var t=e.api,a=Object(n.useState)(""),c=Object(u.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)("Year"),i=Object(u.a)(s,2),m=i[0],p=i[1];return r.a.createElement("div",{className:"Search"},r.a.createElement("form",{onSubmit:function(e){var a;e.preventDefault(),"Movie title..."!==l&&""!==l&&("Any"===m?(console.log("Result : query with only title"),a="https://www.omdbapi.com/?s=".concat(l,"&apikey=62326ae9&")):(console.log("Result : query with both title and year"),a="https://www.omdbapi.com/?s=".concat(l,"&y=").concat(m,"&apikey=62326ae9&")),t(a))}},r.a.createElement("div",{className:"inputs"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{name:"title",className:"title search",type:"text",value:l,onFocus:function(e){return o("")},onChange:function(e){return o(e.target.value)}}),r.a.createElement("label",{htmlFor:"year"},"Year"),r.a.createElement("select",{name:"year",className:"years dropdown",onMouseOver:function(e){for(var t=2020;t>=1900;t--){var a=document.createElement("option");a.innerText=t,e.target.appendChild(a)}},onChange:function(e){return p(e.target.value)}},r.a.createElement("option",{defaultValue:!0},"Any"))),r.a.createElement("div",{className:"submit"},r.a.createElement("button",{className:"submit button",type:"submit"}," Submit "))))},p=a(29),v=a(30),f=a(31);a(23);function h(e){for(var t=e.movies,a=[],n=2*e.currentPage,c=n-2,l=0;l<t.length;l++)l>=c&&l<n&&(a.push(t[l]),console.log("Displaying "+l+" of Movies array"));return r.a.createElement("div",{className:"Page"},a.map((function(e,t){return r.a.createElement(E,{key:t,id:t,title:e.Title,year:e.Year,poster:e.Poster,plot:e.Plot})})))}function E(e){e.id;var t=e.title,a=e.year,n=e.poster,c=e.plot;return"N/A"===n?r.a.createElement("div",{className:"Poster"},r.a.createElement("p",null,"Theatrical poster unavailable"),r.a.createElement("div",{className:"overlay"},r.a.createElement("h2",null,t),r.a.createElement("p",null,c),r.a.createElement("h3",null,a))):r.a.createElement("div",{className:"Poster"},r.a.createElement("img",{src:n,alt:"Theatrical poster unavailable",height:"100%",width:"100%"}),r.a.createElement("div",{className:"overlay"},r.a.createElement("h2",null,t),r.a.createElement("p",null,c),r.a.createElement("h3",null,a)))}var b=function(e){var t=e.searchResults,a=e.formPageOptions,c=e.notFound,l=function(e){m(Number(e.target.innerText))},o=Object(n.useState)("1"),s=Object(u.a)(o,2),i=s[0],m=s[1];return c?r.a.createElement("div",{className:"Results"},r.a.createElement("h1",null,"No such film in our catalogue")):(console.log(a),r.a.createElement("div",{className:"Results"},r.a.createElement(p.a,{"aria-label":"Page navigation example"},a.map((function(e,t){return r.a.createElement(v.a,{key:t,id:t},r.a.createElement(f.a,{href:"#",onClick:l},e.innerText))}))),r.a.createElement(h,{movies:t,currentPage:i})))};a(26);var d=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)("initial"),o=Object(u.a)(l,2),p=o[0],v=o[1],f=Object(n.useState)(!1),h=Object(u.a)(f,2),E=h[0],d=h[1],g=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n,r,l,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return new Promise((function(t,a){var n=[];e.forEach((function(e){var t=fetch("https://www.omdbapi.com/?i=".concat(e.imdbID,"&apikey=62326ae9&)")).then((function(e){return e.json()}));n.push(t)})),t(n)}))},e.prev=1,e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:if(r=e.sent,console.log(r),"Movie not found!"!==r.Error){e.next=11;break}throw Error(r.Error);case 11:return e.next=13,a(r.Search);case 13:return l=e.sent,e.next=16,Promise.all(l);case 16:o=e.sent,c(o),v("results"),E&&d(!1),e.next=32;break;case 22:e.prev=22,e.t0=e.catch(1),console.log(e.t0.message),e.t1=e.t0.message,e.next="Movie not found!"===e.t1?28:31;break;case 28:return d(!0),v("results"),e.abrupt("break",32);case 31:return e.abrupt("break",32);case 32:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}();return"initial"===p?r.a.createElement("div",{className:"App center"},r.a.createElement(m,{api:g,style:{marginTop:"500px"}})):"results"===p?r.a.createElement("div",{className:"App"},r.a.createElement(m,{api:g}),r.a.createElement(b,{searchResults:a,formPageOptions:function(e){for(var t=Math.ceil(a.length/2),n=[],r=1;r<=t;r++){var c=void 0;c=document.createElement("option"),1===r&&c.setAttribute("defaultValue",""),c.innerText=r,n.push(c)}return n}(),notFound:E})):void 0};l.a.render(r.a.createElement(d,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.e60aea45.chunk.js.map